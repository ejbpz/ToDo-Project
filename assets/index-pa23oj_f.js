(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const l of c.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function s(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function n(a){if(a.ep)return;a.ep=!0;const c=s(a);fetch(a.href,c)}})();const I=90;let f=new Date;f.setDate(f.getDate()+I);const _=e=>{let t=null;return document.cookie.split(";").forEach(s=>{let n=s.trim().split("=");n[0]===e&&(t=n[1])}),t},M=e=>document.cookie=`theme=${e}; expires=${f.toUTCString()}; path=/`,N=e=>{document.cookie=`language=${e}; expires=${f.toUTCString()}; path=/`},H=()=>_("theme"),$=()=>_("language"),r={setTheme:M,setLanguage:N,getTheme:H,getLanguage:$},D=e=>{e.style.marginBottom="0"},O=e=>{e.style.marginBottom="30px"},A=(e,t,s=null)=>{const n=r.getLanguage();if(s&&D(s),e.trim()&&!e.includes("-"))return t.style.display="none",!0;if(s&&O(s),e.includes("-"))return t.innerHTML=n==="es"?"La tarea no puede tener '-'":"The task cannot have a '-'",t.style.display="inline-block",!1;if(!e.trim())return t.innerHTML=n==="es"?"Â¡Necesitas escribir una tarea!":"You'll need to write a task!",t.style.display="inline-block",!1},j=(e,t,s)=>{const n=document.createElement("form");n.classList.add("wraper-task"),n.noValidate=!0;const a=document.createElement("input");a.classList.add("create__input-task"),a.dataset.i18n="task-placeholder",a.placeholder="Make the bed...",a.name="InputAddTask",a.id="InputAddTask",a.autofocus=!0,a.required=!0,a.type="text";const c=document.createElement("button");c.classList.add("create__button-add","inside-options"),c.id="ButtonAddTask",c.type="submit";const l=document.createElement("span");l.classList.add("material-icons","prevent-selected"),l.innerText="add";const o=document.createElement("label");o.classList.add("warning-text"),o.htmlFor="InputAddTask",o.id="WarningTask",n.addEventListener("submit",d=>{d.preventDefault();let u=a.value;if(A(u,o)){a.value="";let p=t(u);return s(),p}}),c.append(l),n.append(a,c,o),e.append(n)},w=Object.entries(localStorage).map(([e,t])=>({key:e,value:t})),B=()=>Object.keys(localStorage).map(Number).filter(e=>!isNaN(e)).reduce((e,t)=>Math.max(e,t),0),F=()=>Array.from(w).filter(e=>e.value.split("-")[1]==="ToDo"),P=()=>Array.from(w).filter(e=>e.value.split("-")[1]==="Completed"),z=()=>localStorage.clear(),U=e=>localStorage.removeItem(e),K=(e,t)=>localStorage.setItem(e,t),R=(e,t)=>localStorage.setItem(e,t),V=e=>localStorage.getItem(e),i={getHigherIdTaskLS:B,getTodoTasksLS:F,getCompletedTasksLS:P,deleteAllTasksLS:z,deleteTaskLS:U,modifyTaskLS:K,newTaskLS:R,getTaskLS:V},W=(e,t)=>i.newTaskLS(e,t+"-ToDo"),x=(e,t)=>i.modifyTaskLS(e,t),Y=(e,t)=>{e.parentElement.removeChild(e),i.deleteTaskLS(t)},G=(e,t)=>{for(i.deleteAllTasksLS();e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)t.removeChild(t.firstChild)},q=(e,t,s)=>{const n=s.childNodes[0],a=s.childNodes[1],c=a.checked;n.disabled=c,c?(e.removeChild(s),t.appendChild(s)):(t.removeChild(s),e.appendChild(s)),n.classList.toggle("completed__input-task");let[l,o]=i.getTaskLS(s.id).split("-");o=o==="ToDo"?"Completed":"ToDo",x(s.id,`${l}-${o}`)},v=(e,t,s,n,a)=>{const c=r.getLanguage(),l=document.createElement("div");l.id=e||i.getHigherIdTaskLS()+1,l.classList.add("wraper-task");const o=document.createElement("input");o.classList.add("tasks-input"),o.name="TaskModify",o.id="TaskModify",o.value=t,o.type="text";const d=document.createElement("input");d.classList.add("tasks-check","inside-options"),d.type="checkbox",d.checked=!1;const u=document.createElement("div");u.classList.add("details");const p=document.createElement("div");p.classList.add("details__container");const L=document.createElement("button");L.classList.add("details__button");const y=document.createElement("span");y.classList.add("material-icons"),y.innerText="more_vert";const T=document.createElement("div");T.classList.add("details__dropdown");const g=document.createElement("button");g.classList.add("details__option"),g.dataset.i18n="task-delete",g.innerText=c==="en"?"Delete":"Eliminar";const k=document.createElement("label");return k.classList.add("warning-text"),k.htmlFor="TaskModify",d.addEventListener("click",()=>q(s,n,l)),g.addEventListener("click",()=>{Y(l,l.id),a()}),o.addEventListener("focusout",()=>{let h=o.value;A(h,k,l)&&x(l.id,h+"-ToDo")}),o.addEventListener("keypress",h=>h.key==="Enter"?o.blur():null),L.appendChild(y),T.appendChild(g),p.appendChild(L),u.append(p,T),l.append(o,d,u,k),W(l.id,t),a(),l},J=i.getCompletedTasksLS(),Q=(e,t,s)=>{J.forEach(n=>{const a=v(n.key,n.value.split("-")[0],e,t,s);a.childNodes[1].checked=!0,e.appendChild(a),q(e,t,a)})},X=e=>{const t=document.createElement("footer");t.classList.add("footer"),t.innerHTML=`
    <div class="footer__container">
      <p class="footer__text prevent-selected" data-i18n="made-by">Made by 
        <a href="https://github.com/ejbpz" class="footer__link">ejbpz</a>
      </p>
    </div>
  `,e.append(t)},Z=i.getTodoTasksLS(),ee=(e,t,s)=>{Z.forEach(n=>{e.appendChild(v(n.key,n.value.split("-")[0],e,t,s))})},m=(e,t,s)=>{e.childElementCount==0&&t.childElementCount==0?(s[1].style.display="none",s[2].style.display="none"):(s[1].style.display="block",s[2].style.display="block")},C=(e,t)=>{document.querySelectorAll("[data-i18n]").forEach(s=>{const n=s.getAttribute("data-i18n");if(document.querySelector("html").lang=t,n==="task-placeholder"&&(document.querySelector("#InputAddTask").placeholder=e[n]),s.querySelector("a")){const a=s.querySelector("a").outerHTML;s.innerHTML=`${e[n]} ${a}`}else s.innerHTML=e[n]})},b=async e=>await(await fetch(`i18n/${e}.json`)).json(),te=e=>{e[0].addEventListener("click",async()=>{const t=await b("es");r.setLanguage("es"),C(t,"es")}),e[1].addEventListener("click",async()=>{const t=await b("en");r.setLanguage("en"),C(t,"en")})},se=(e,t)=>{t[0].addEventListener("click",()=>{e.classList.add("darkmode"),r.setTheme("dark")}),t[1].addEventListener("click",()=>{e.classList.remove("darkmode"),r.setTheme("light")})},ne=(e,t,s,n,a,c,l,o)=>{a.addEventListener("click",()=>{G(s,n),m(s,n,o)}),j(t,d=>s.append(v(null,d,s,n,()=>m(s,n,o))),()=>m(s,n,o)),ee(s,n,()=>m(s,n,o)),Q(s,n,()=>m(s,n,o)),X(e),te(l),se(e,c),m(s,n,o)},ae=()=>{const e=r.getTheme(),t=r.getLanguage();return{theme:e,lang:t}},oe=document.querySelector("#ContainerCompletedTasks"),ce=document.querySelector("#ButtonClearStorage"),le=document.querySelector("#ContainerTodoTasks"),S=document.querySelectorAll(".language__item"),de=document.querySelectorAll(".theme__item"),re=document.querySelector(".create"),ie=document.querySelectorAll(".subtitle"),E=document.querySelector("body");ne(E,re,le,oe,ce,de,S,ie);let{theme:ue,lang:me}=ae();ue==="dark"?E.classList.add("darkmode"):E.classList.remove("darkmode");me==="es"?S[0].click():S[1].click();
