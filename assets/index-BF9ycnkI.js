(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function s(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(a){if(a.ep)return;a.ep=!0;const l=s(a);fetch(a.href,l)}})();const _=Object.entries(localStorage).map(([e,t])=>({key:e,value:t})),w=()=>Object.keys(localStorage).map(Number).filter(e=>!isNaN(e)).reduce((e,t)=>Math.max(e,t),0),x=()=>Array.from(_).filter(e=>e.value.split("-")[1]==="ToDo"),M=()=>Array.from(_).filter(e=>e.value.split("-")[1]==="Completed"),H=()=>{const e=T("theme"),t=T("language");localStorage.clear(),e&&y("theme",e),t&&y("language",t)},N=e=>localStorage.removeItem(e),O=(e,t)=>localStorage.setItem(e,t),y=(e,t)=>localStorage.setItem(e,t),T=e=>localStorage.getItem(e),j=()=>localStorage.getItem("theme"),B=()=>localStorage.getItem("language"),$=e=>localStorage.setItem("theme",e),D=e=>localStorage.setItem("language",e),d={getHigherIdTaskLS:w,getTodoTasksLS:x,getCompletedTasksLS:M,deleteAllTasksLS:H,deleteTaskLS:N,modifyTaskLS:O,newTaskLS:y,getTaskLS:T,getThemeLS:j,getLangLS:B,setThemeLS:$,setLangLS:D},F=e=>{e.style.marginBottom="0"},P=e=>{e.style.marginBottom="30px"},A=(e,t,s=null)=>{const n=d.getLangLS();if(s&&F(s),e.trim()&&!e.includes("-"))return t.style.display="none",!0;if(s&&P(s),e.trim()&&e.includes("-"))return t.innerHTML=n==="es"?"La tarea no puede tener '-'":"The task cannot have a '-'",t.style.display="inline-block",!1;if(!e.trim())return t.innerHTML=n==="es"?"Â¡Necesitas escribir una tarea!":"You'll need to write a task!",t.style.display="inline-block",!1},z=(e,t)=>{const s=document.createElement("div");s.classList.add("wraper-task");const n=document.createElement("input");n.classList.add("create__input-task"),n.dataset.i18n="task-placeholder",n.placeholder="Make the bed...",n.name="InputAddTask",n.id="InputAddTask",n.autofocus=!0,n.type="text";const a=document.createElement("button");a.classList.add("create__button-add","inside-options"),a.id="ButtonAddTask";const l=document.createElement("span");l.classList.add("material-icons","prevent-selected"),l.innerText="add";const c=document.createElement("label");c.classList.add("warning-text"),c.htmlFor="InputAddTask",c.id="WarningTask",a.addEventListener("click",()=>{let o=n.value;if(A(o,c))return n.value="",t(o)}),n.addEventListener("keypress",o=>o.key==="Enter"?a.click():null),a.append(l),s.append(n,a,c),e.append(s)},K=(e,t)=>d.newTaskLS(e,t+"-ToDo"),I=(e,t)=>d.modifyTaskLS(e,t),R=(e,t)=>{e.parentElement.removeChild(e),d.deleteTaskLS(t)},W=(e,t)=>{for(d.deleteAllTasksLS();e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)t.removeChild(t.firstChild)},q=(e,t,s)=>{const n=s.childNodes[0],a=s.childNodes[1],l=a.checked;n.disabled=l,l?(e.removeChild(s),t.appendChild(s)):(t.removeChild(s),e.appendChild(s)),n.classList.toggle("completed__input-task");let[c,o]=d.getTaskLS(s.id).split("-");o=o==="ToDo"?"Completed":"ToDo",I(s.id,`${c}-${o}`)},v=(e,t,s,n,a)=>{const l=d.getLangLS(),c=document.createElement("div");c.id=e||d.getHigherIdTaskLS()+1,c.classList.add("wraper-task");const o=document.createElement("input");o.classList.add("tasks-input"),o.name="TaskModify",o.id="TaskModify",o.value=t,o.type="text";const r=document.createElement("input");r.classList.add("tasks-check","inside-options"),r.type="checkbox",r.checked=!1;const L=document.createElement("div");L.classList.add("details");const g=document.createElement("div");g.classList.add("details__container");const k=document.createElement("button");k.classList.add("details__button");const h=document.createElement("span");h.classList.add("material-icons"),h.innerText="more_vert";const f=document.createElement("div");f.classList.add("details__dropdown");const i=document.createElement("button");i.classList.add("details__option"),i.dataset.i18n="task-delete",i.innerText=l==="en"?"Delete":"Eliminar";const m=document.createElement("label");return m.classList.add("warning-text"),m.htmlFor="TaskModify",r.addEventListener("click",()=>q(s,n,c)),i.addEventListener("click",()=>{R(c,c.id),a()}),o.addEventListener("focusout",()=>{let p=o.value;A(p,m,c)&&I(c.id,p+"-ToDo")}),o.addEventListener("keypress",p=>p.key==="Enter"?o.blur():null),k.appendChild(h),f.appendChild(i),g.appendChild(k),L.append(g,f),c.append(o,r,L,m),K(c.id,t),c},Y=d.getCompletedTasksLS(),G=(e,t,s)=>{Y.forEach(n=>{const a=v(n.key,n.value.split("-")[0],e,t,s);a.childNodes[1].checked=!0,e.appendChild(a),q(e,t,a)})},J=e=>{const t=document.createElement("footer");t.classList.add("footer"),t.innerHTML=`
    <div class="footer__container">
      <p class="footer__text prevent-selected" data-i18n="made-by">Made by 
        <a href="https://github.com/ejbpz" class="footer__link">ejbpz</a>
      </p>
    </div>
  `,e.append(t)},Q=d.getTodoTasksLS(),U=(e,t,s)=>{Q.forEach(n=>{e.appendChild(v(n.key,n.value.split("-")[0],e,t,s))})},u=(e,t,s)=>{e.childElementCount==0&&t.childElementCount==0?(s[1].style.display="none",s[2].style.display="none"):(s[1].style.display="block",s[2].style.display="block")},b=(e,t)=>{document.querySelectorAll("[data-i18n]").forEach(s=>{const n=s.getAttribute("data-i18n");if(document.querySelector("html").lang=t,n==="task-placeholder"&&(document.querySelector("#InputAddTask").placeholder=e[n]),s.querySelector("a")){const a=s.querySelector("a").outerHTML;s.innerHTML=`${e[n]} ${a}`}else s.innerHTML=e[n]})},C=async e=>await(await fetch(`i18n/${e}.json`)).json(),V=e=>{e[0].addEventListener("click",async()=>{const t=await C("es");d.setLangLS("es"),b(t,"es")}),e[1].addEventListener("click",async()=>{const t=await C("en");d.setLangLS("en"),b(t,"en")})},X=(e,t)=>{t[0].addEventListener("click",()=>{e.classList.add("darkmode"),d.setThemeLS("dark")}),t[1].addEventListener("click",()=>{e.classList.remove("darkmode"),d.setThemeLS("light")})},Z=(e,t,s,n,a,l,c,o)=>{a.addEventListener("click",()=>{W(s,n),u(s,n,o)}),z(t,r=>s.append(v(null,r,s,n,()=>u(s,n,o)))),U(s,n,()=>u(s,n,o)),G(s,n,()=>u(s,n,o)),J(e),V(c),X(e,l),u(s,n,o)},ee=()=>{const e=d.getThemeLS(),t=d.getLangLS();return{theme:e,lang:t}},te=document.querySelector("#ContainerCompletedTasks"),se=document.querySelector("#ButtonClearStorage"),ne=document.querySelector("#ContainerTodoTasks"),S=document.querySelectorAll(".language__item"),ae=document.querySelectorAll(".theme__item"),oe=document.querySelector(".create"),ce=document.querySelectorAll(".subtitle"),E=document.querySelector("body");Z(E,oe,ne,te,se,ae,S,ce);let{theme:le,lang:de}=ee();le==="dark"?E.classList.add("darkmode"):E.classList.remove("darkmode");de==="es"?S[0].click():S[1].click();
