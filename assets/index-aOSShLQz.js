(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const c of n)if(c.type==="childList")for(const l of c.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function s(n){const c={};return n.integrity&&(c.integrity=n.integrity),n.referrerPolicy&&(c.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?c.credentials="include":n.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(n){if(n.ep)return;n.ep=!0;const c=s(n);fetch(n.href,c)}})();const _=Object.entries(localStorage).map(([e,t])=>({key:e,value:t})),w=()=>Object.keys(localStorage).map(Number).filter(e=>!isNaN(e)).reduce((e,t)=>Math.max(e,t),0),x=()=>Array.from(_).filter(e=>e.value.split("-")[1]==="ToDo"),M=()=>Array.from(_).filter(e=>e.value.split("-")[1]==="Completed"),H=()=>{const e=T("theme"),t=T("language");localStorage.clear(),e&&y("theme",e),t&&y("language",t)},N=e=>localStorage.removeItem(e),O=(e,t)=>localStorage.setItem(e,t),y=(e,t)=>localStorage.setItem(e,t),T=e=>localStorage.getItem(e),j=()=>localStorage.getItem("theme"),B=()=>localStorage.getItem("language"),$=e=>localStorage.setItem("theme",e),D=e=>localStorage.setItem("language",e),d={getHigherIdTaskLS:w,getTodoTasksLS:x,getCompletedTasksLS:M,deleteAllTasksLS:H,deleteTaskLS:N,modifyTaskLS:O,newTaskLS:y,getTaskLS:T,getThemeLS:j,getLangLS:B,setThemeLS:$,setLangLS:D},F=e=>{e.style.marginBottom="0"},P=e=>{e.style.marginBottom="30px"},A=(e,t,s=null)=>{const a=d.getLangLS();if(s&&F(s),e.trim()&&!e.includes("-"))return t.style.display="none",!0;if(s&&P(s),e.trim()&&e.includes("-"))return t.innerHTML=a==="es"?"La tarea no puede tener '-'":"The task cannot have a '-'",t.style.display="inline-block",!1;if(!e.trim())return t.innerHTML=a==="es"?"Â¡Necesitas escribir una tarea!":"You'll need to write a task!",t.style.display="inline-block",!1},z=(e,t,s)=>{const a=document.createElement("div");a.classList.add("wraper-task");const n=document.createElement("input");n.classList.add("create__input-task"),n.dataset.i18n="task-placeholder",n.placeholder="Make the bed...",n.name="InputAddTask",n.id="InputAddTask",n.autofocus=!0,n.type="text";const c=document.createElement("button");c.classList.add("create__button-add","inside-options"),c.id="ButtonAddTask";const l=document.createElement("span");l.classList.add("material-icons","prevent-selected"),l.innerText="add";const o=document.createElement("label");o.classList.add("warning-text"),o.htmlFor="InputAddTask",o.id="WarningTask",c.addEventListener("click",()=>{let r=n.value;if(A(r,o)){n.value="";let u=t(r);return s(),u}}),n.addEventListener("keypress",r=>r.key==="Enter"?c.click():null),c.append(l),a.append(n,c,o),e.append(a)},K=(e,t)=>d.newTaskLS(e,t+"-ToDo"),I=(e,t)=>d.modifyTaskLS(e,t),R=(e,t)=>{e.parentElement.removeChild(e),d.deleteTaskLS(t)},W=(e,t)=>{for(d.deleteAllTasksLS();e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)t.removeChild(t.firstChild)},q=(e,t,s)=>{const a=s.childNodes[0],n=s.childNodes[1],c=n.checked;a.disabled=c,c?(e.removeChild(s),t.appendChild(s)):(t.removeChild(s),e.appendChild(s)),a.classList.toggle("completed__input-task");let[l,o]=d.getTaskLS(s.id).split("-");o=o==="ToDo"?"Completed":"ToDo",I(s.id,`${l}-${o}`)},v=(e,t,s,a,n)=>{const c=d.getLangLS(),l=document.createElement("div");l.id=e||d.getHigherIdTaskLS()+1,l.classList.add("wraper-task");const o=document.createElement("input");o.classList.add("tasks-input"),o.name="TaskModify",o.id="TaskModify",o.value=t,o.type="text";const r=document.createElement("input");r.classList.add("tasks-check","inside-options"),r.type="checkbox",r.checked=!1;const u=document.createElement("div");u.classList.add("details");const g=document.createElement("div");g.classList.add("details__container");const k=document.createElement("button");k.classList.add("details__button");const h=document.createElement("span");h.classList.add("material-icons"),h.innerText="more_vert";const f=document.createElement("div");f.classList.add("details__dropdown");const m=document.createElement("button");m.classList.add("details__option"),m.dataset.i18n="task-delete",m.innerText=c==="en"?"Delete":"Eliminar";const p=document.createElement("label");return p.classList.add("warning-text"),p.htmlFor="TaskModify",r.addEventListener("click",()=>q(s,a,l)),m.addEventListener("click",()=>{R(l,l.id),n()}),o.addEventListener("focusout",()=>{let L=o.value;A(L,p,l)&&I(l.id,L+"-ToDo")}),o.addEventListener("keypress",L=>L.key==="Enter"?o.blur():null),k.appendChild(h),f.appendChild(m),g.appendChild(k),u.append(g,f),l.append(o,r,u,p),K(l.id,t),n(),l},Y=d.getCompletedTasksLS(),G=(e,t,s)=>{Y.forEach(a=>{const n=v(a.key,a.value.split("-")[0],e,t,s);n.childNodes[1].checked=!0,e.appendChild(n),q(e,t,n)})},J=e=>{const t=document.createElement("footer");t.classList.add("footer"),t.innerHTML=`
    <div class="footer__container">
      <p class="footer__text prevent-selected" data-i18n="made-by">Made by 
        <a href="https://github.com/ejbpz" class="footer__link">ejbpz</a>
      </p>
    </div>
  `,e.append(t)},Q=d.getTodoTasksLS(),U=(e,t,s)=>{Q.forEach(a=>{e.appendChild(v(a.key,a.value.split("-")[0],e,t,s))})},i=(e,t,s)=>{e.childElementCount==0&&t.childElementCount==0?(s[1].style.display="none",s[2].style.display="none"):(s[1].style.display="block",s[2].style.display="block")},C=(e,t)=>{document.querySelectorAll("[data-i18n]").forEach(s=>{const a=s.getAttribute("data-i18n");if(document.querySelector("html").lang=t,a==="task-placeholder"&&(document.querySelector("#InputAddTask").placeholder=e[a]),s.querySelector("a")){const n=s.querySelector("a").outerHTML;s.innerHTML=`${e[a]} ${n}`}else s.innerHTML=e[a]})},b=async e=>await(await fetch(`i18n/${e}.json`)).json(),V=e=>{e[0].addEventListener("click",async()=>{const t=await b("es");d.setLangLS("es"),C(t,"es")}),e[1].addEventListener("click",async()=>{const t=await b("en");d.setLangLS("en"),C(t,"en")})},X=(e,t)=>{t[0].addEventListener("click",()=>{e.classList.add("darkmode"),d.setThemeLS("dark")}),t[1].addEventListener("click",()=>{e.classList.remove("darkmode"),d.setThemeLS("light")})},Z=(e,t,s,a,n,c,l,o)=>{n.addEventListener("click",()=>{W(s,a),i(s,a,o)}),z(t,r=>s.append(v(null,r,s,a,()=>i(s,a,o))),()=>i(s,a,o)),U(s,a,()=>i(s,a,o)),G(s,a,()=>i(s,a,o)),J(e),V(l),X(e,c),i(s,a,o)},ee=()=>{const e=d.getThemeLS(),t=d.getLangLS();return{theme:e,lang:t}},te=document.querySelector("#ContainerCompletedTasks"),se=document.querySelector("#ButtonClearStorage"),ne=document.querySelector("#ContainerTodoTasks"),S=document.querySelectorAll(".language__item"),ae=document.querySelectorAll(".theme__item"),oe=document.querySelector(".create"),ce=document.querySelectorAll(".subtitle"),E=document.querySelector("body");Z(E,oe,ne,te,se,ae,S,ce);let{theme:le,lang:de}=ee();le==="dark"?E.classList.add("darkmode"):E.classList.remove("darkmode");de==="es"?S[0].click():S[1].click();
