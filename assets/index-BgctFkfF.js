(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const c of n)if(c.type==="childList")for(const l of c.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function s(n){const c={};return n.integrity&&(c.integrity=n.integrity),n.referrerPolicy&&(c.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?c.credentials="include":n.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(n){if(n.ep)return;n.ep=!0;const c=s(n);fetch(n.href,c)}})();const I=90;let h=new Date;h.setDate(h.getDate()+I);const _=e=>{let t=null;return document.cookie.split(";").forEach(s=>{let a=s.trim().split("=");a[0]===e&&(t=a[1])}),t},M=e=>document.cookie=`theme=${e}; expires=${h.toUTCString()}; path=/`,N=e=>{document.cookie=`language=${e}; expires=${h.toUTCString()}; path=/`},H=()=>_("theme"),$=()=>_("language"),i={setTheme:M,setLanguage:N,getTheme:H,getLanguage:$},O=e=>{e.style.marginBottom="0"},D=e=>{e.style.marginBottom="30px"},A=(e,t,s=null)=>{const a=i.getLanguage();if(s&&O(s),e.trim()&&!e.includes("-"))return t.style.display="none",!0;if(s&&D(s),e.trim()&&e.includes("-"))return t.innerHTML=a==="es"?"La tarea no puede tener '-'":"The task cannot have a '-'",t.style.display="inline-block",!1;if(!e.trim())return t.innerHTML=a==="es"?"Â¡Necesitas escribir una tarea!":"You'll need to write a task!",t.style.display="inline-block",!1},j=(e,t,s)=>{const a=document.createElement("div");a.classList.add("wraper-task");const n=document.createElement("input");n.classList.add("create__input-task"),n.dataset.i18n="task-placeholder",n.placeholder="Make the bed...",n.name="InputAddTask",n.id="InputAddTask",n.autofocus=!0,n.type="text";const c=document.createElement("button");c.classList.add("create__button-add","inside-options"),c.id="ButtonAddTask";const l=document.createElement("span");l.classList.add("material-icons","prevent-selected"),l.innerText="add";const o=document.createElement("label");o.classList.add("warning-text"),o.htmlFor="InputAddTask",o.id="WarningTask",c.addEventListener("click",()=>{let d=n.value;if(A(d,o)){n.value="";let m=t(d);return s(),m}}),n.addEventListener("keypress",d=>d.key==="Enter"?c.click():null),c.append(l),a.append(n,c,o),e.append(a)},w=Object.entries(localStorage).map(([e,t])=>({key:e,value:t})),B=()=>Object.keys(localStorage).map(Number).filter(e=>!isNaN(e)).reduce((e,t)=>Math.max(e,t),0),F=()=>Array.from(w).filter(e=>e.value.split("-")[1]==="ToDo"),P=()=>Array.from(w).filter(e=>e.value.split("-")[1]==="Completed"),z=()=>localStorage.clear(),U=e=>localStorage.removeItem(e),K=(e,t)=>localStorage.setItem(e,t),R=(e,t)=>localStorage.setItem(e,t),W=e=>localStorage.getItem(e),r={getHigherIdTaskLS:B,getTodoTasksLS:F,getCompletedTasksLS:P,deleteAllTasksLS:z,deleteTaskLS:U,modifyTaskLS:K,newTaskLS:R,getTaskLS:W},Y=(e,t)=>r.newTaskLS(e,t+"-ToDo"),x=(e,t)=>r.modifyTaskLS(e,t),G=(e,t)=>{e.parentElement.removeChild(e),r.deleteTaskLS(t)},J=(e,t)=>{for(r.deleteAllTasksLS();e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)t.removeChild(t.firstChild)},q=(e,t,s)=>{const a=s.childNodes[0],n=s.childNodes[1],c=n.checked;a.disabled=c,c?(e.removeChild(s),t.appendChild(s)):(t.removeChild(s),e.appendChild(s)),a.classList.toggle("completed__input-task");let[l,o]=r.getTaskLS(s.id).split("-");o=o==="ToDo"?"Completed":"ToDo",x(s.id,`${l}-${o}`)},v=(e,t,s,a,n)=>{const c=i.getLanguage(),l=document.createElement("div");l.id=e||r.getHigherIdTaskLS()+1,l.classList.add("wraper-task");const o=document.createElement("input");o.classList.add("tasks-input"),o.name="TaskModify",o.id="TaskModify",o.value=t,o.type="text";const d=document.createElement("input");d.classList.add("tasks-check","inside-options"),d.type="checkbox",d.checked=!1;const m=document.createElement("div");m.classList.add("details");const L=document.createElement("div");L.classList.add("details__container");const f=document.createElement("button");f.classList.add("details__button");const y=document.createElement("span");y.classList.add("material-icons"),y.innerText="more_vert";const T=document.createElement("div");T.classList.add("details__dropdown");const p=document.createElement("button");p.classList.add("details__option"),p.dataset.i18n="task-delete",p.innerText=c==="en"?"Delete":"Eliminar";const k=document.createElement("label");return k.classList.add("warning-text"),k.htmlFor="TaskModify",d.addEventListener("click",()=>q(s,a,l)),p.addEventListener("click",()=>{G(l,l.id),n()}),o.addEventListener("focusout",()=>{let g=o.value;A(g,k,l)&&x(l.id,g+"-ToDo")}),o.addEventListener("keypress",g=>g.key==="Enter"?o.blur():null),f.appendChild(y),T.appendChild(p),L.appendChild(f),m.append(L,T),l.append(o,d,m,k),Y(l.id,t),n(),l},Q=r.getCompletedTasksLS(),V=(e,t,s)=>{Q.forEach(a=>{const n=v(a.key,a.value.split("-")[0],e,t,s);n.childNodes[1].checked=!0,e.appendChild(n),q(e,t,n)})},X=e=>{const t=document.createElement("footer");t.classList.add("footer"),t.innerHTML=`
    <div class="footer__container">
      <p class="footer__text prevent-selected" data-i18n="made-by">Made by 
        <a href="https://github.com/ejbpz" class="footer__link">ejbpz</a>
      </p>
    </div>
  `,e.append(t)},Z=r.getTodoTasksLS(),ee=(e,t,s)=>{Z.forEach(a=>{e.appendChild(v(a.key,a.value.split("-")[0],e,t,s))})},u=(e,t,s)=>{e.childElementCount==0&&t.childElementCount==0?(s[1].style.display="none",s[2].style.display="none"):(s[1].style.display="block",s[2].style.display="block")},C=(e,t)=>{document.querySelectorAll("[data-i18n]").forEach(s=>{const a=s.getAttribute("data-i18n");if(document.querySelector("html").lang=t,a==="task-placeholder"&&(document.querySelector("#InputAddTask").placeholder=e[a]),s.querySelector("a")){const n=s.querySelector("a").outerHTML;s.innerHTML=`${e[a]} ${n}`}else s.innerHTML=e[a]})},b=async e=>await(await fetch(`i18n/${e}.json`)).json(),te=e=>{e[0].addEventListener("click",async()=>{const t=await b("es");i.setLanguage("es"),C(t,"es")}),e[1].addEventListener("click",async()=>{const t=await b("en");i.setLanguage("en"),C(t,"en")})},se=(e,t)=>{t[0].addEventListener("click",()=>{e.classList.add("darkmode"),i.setTheme("dark")}),t[1].addEventListener("click",()=>{e.classList.remove("darkmode"),i.setTheme("light")})},ne=(e,t,s,a,n,c,l,o)=>{n.addEventListener("click",()=>{J(s,a),u(s,a,o)}),j(t,d=>s.append(v(null,d,s,a,()=>u(s,a,o))),()=>u(s,a,o)),ee(s,a,()=>u(s,a,o)),V(s,a,()=>u(s,a,o)),X(e),te(l),se(e,c),u(s,a,o)},ae=()=>{const e=i.getTheme(),t=i.getLanguage();return{theme:e,lang:t}},oe=document.querySelector("#ContainerCompletedTasks"),ce=document.querySelector("#ButtonClearStorage"),le=document.querySelector("#ContainerTodoTasks"),S=document.querySelectorAll(".language__item"),de=document.querySelectorAll(".theme__item"),ie=document.querySelector(".create"),re=document.querySelectorAll(".subtitle"),E=document.querySelector("body");ne(E,ie,le,oe,ce,de,S,re);let{theme:ue,lang:me}=ae();ue==="dark"?E.classList.add("darkmode"):E.classList.remove("darkmode");me==="es"?S[0].click():S[1].click();
